var app=function(){"use strict";function t(){}function o(t){return t()}function e(){return Object.create(null)}function n(t){t.forEach(o)}function i(t){return"function"==typeof t}function s(t,o){return t!=t?o==o:t!==o||t&&"object"==typeof t||"function"==typeof t}let a,l;function c(t,o){return a||(a=document.createElement("a")),a.href=o,t===a.href}function u(t,o){t.appendChild(o)}function d(t,o,e){t.insertBefore(o,e||null)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function m(){return h(" ")}function b(t,o,e){null==e?t.removeAttribute(o):t.getAttribute(o)!==e&&t.setAttribute(o,e)}function g(t,o){o=""+o,t.data!==o&&(t.data=o)}function y(t,o,e,n){null==e?t.style.removeProperty(o):t.style.setProperty(o,e,n?"important":"")}function v(t){l=t}const w=[],k=[];let _=[];const E=[],x=Promise.resolve();let $=!1;function N(t){_.push(t)}const C=new Set;let T=0;function L(){if(0!==T)return;const t=l;do{try{for(;T<w.length;){const t=w[T];T++,v(t),O(t.$$)}}catch(t){throw w.length=0,T=0,t}for(v(null),w.length=0,T=0;k.length;)k.pop()();for(let t=0;t<_.length;t+=1){const o=_[t];C.has(o)||(C.add(o),o())}_.length=0}while(w.length);for(;E.length;)E.pop()();$=!1,C.clear(),v(t)}function O(t){if(null!==t.fragment){t.update(),n(t.before_update);const o=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,o),t.after_update.forEach(N)}}const P=new Set;function A(t,o){const e=t.$$;null!==e.fragment&&(!function(t){const o=[],e=[];_.forEach((n=>-1===t.indexOf(n)?o.push(n):e.push(n))),e.forEach((t=>t())),_=o}(e.after_update),n(e.on_destroy),e.fragment&&e.fragment.d(o),e.on_destroy=e.fragment=null,e.ctx=[])}function F(t,o){-1===t.$$.dirty[0]&&(w.push(t),$||($=!0,x.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[o/31|0]|=1<<o%31}function M(s,a,r,c,u,d,f,h=[-1]){const m=l;v(s);const b=s.$$={fragment:null,ctx:[],props:d,update:t,not_equal:u,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a.context||(m?m.$$.context:[])),callbacks:e(),dirty:h,skip_bound:!1,root:a.target||m.$$.root};f&&f(b.root);let g=!1;if(b.ctx=r?r(s,a.props||{},((t,o,...e)=>{const n=e.length?e[0]:o;return b.ctx&&u(b.ctx[t],b.ctx[t]=n)&&(!b.skip_bound&&b.bound[t]&&b.bound[t](n),g&&F(s,t)),o})):[],b.update(),g=!0,n(b.before_update),b.fragment=!!c&&c(b.ctx),a.target){if(a.hydrate){const t=function(t){return Array.from(t.childNodes)}(a.target);b.fragment&&b.fragment.l(t),t.forEach(p)}else b.fragment&&b.fragment.c();a.intro&&((y=s.$$.fragment)&&y.i&&(P.delete(y),y.i(w))),function(t,e,s,a){const{fragment:r,after_update:l}=t.$$;r&&r.m(e,s),a||N((()=>{const e=t.$$.on_mount.map(o).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...e):n(e),t.$$.on_mount=[]})),l.forEach(N)}(s,a.target,a.anchor,a.customElement),L()}var y,w;v(m)}class S{$destroy(){A(this,1),this.$destroy=t}$on(o,e){if(!i(e))return t;const n=this.$$.callbacks[o]||(this.$$.callbacks[o]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var o;this.$$set&&(o=t,0!==Object.keys(o).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/*!
     * Toastify js 1.12.0
     * https://github.com/apvarun/toastify-js
     * @license MIT licensed
     *
     * Copyright (C) 2018 Varun A P
     */
var W,D,I=(W=function(t){var o,e;o=j,e=function(t){var o=function(t){return new o.lib.init(t)};function e(t,o){return o.offset[t]?isNaN(o.offset[t])?o.offset[t]:o.offset[t]+"px":"0px"}function n(t,o){return!(!t||"string"!=typeof o||!(t.className&&t.className.trim().split(/\s+/gi).indexOf(o)>-1))}return o.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},o.lib=o.prototype={toastify:"1.12.0",constructor:o,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||o.defaults.text,this.options.node=t.node||o.defaults.node,this.options.duration=0===t.duration?0:t.duration||o.defaults.duration,this.options.selector=t.selector||o.defaults.selector,this.options.callback=t.callback||o.defaults.callback,this.options.destination=t.destination||o.defaults.destination,this.options.newWindow=t.newWindow||o.defaults.newWindow,this.options.close=t.close||o.defaults.close,this.options.gravity="bottom"===t.gravity?"toastify-bottom":o.defaults.gravity,this.options.positionLeft=t.positionLeft||o.defaults.positionLeft,this.options.position=t.position||o.defaults.position,this.options.backgroundColor=t.backgroundColor||o.defaults.backgroundColor,this.options.avatar=t.avatar||o.defaults.avatar,this.options.className=t.className||o.defaults.className,this.options.stopOnFocus=void 0===t.stopOnFocus?o.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||o.defaults.onClick,this.options.offset=t.offset||o.defaults.offset,this.options.escapeMarkup=void 0!==t.escapeMarkup?t.escapeMarkup:o.defaults.escapeMarkup,this.options.ariaLive=t.ariaLive||o.defaults.ariaLive,this.options.style=t.style||o.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");for(var o in t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.options.style)t.style[o]=this.options.style[o];if(this.options.ariaLive&&t.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,""!==this.options.avatar){var n=document.createElement("img");n.src=this.options.avatar,n.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?t.appendChild(n):t.insertAdjacentElement("afterbegin",n)}if(!0===this.options.close){var i=document.createElement("button");i.type="button",i.setAttribute("aria-label","Close"),i.className="toast-close",i.innerHTML="&#10006;",i.addEventListener("click",function(t){t.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var s=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&s>360?t.insertAdjacentElement("afterbegin",i):t.appendChild(i)}if(this.options.stopOnFocus&&this.options.duration>0){var a=this;t.addEventListener("mouseover",(function(o){window.clearTimeout(t.timeOutValue)})),t.addEventListener("mouseleave",(function(){t.timeOutValue=window.setTimeout((function(){a.removeElement(t)}),a.options.duration)}))}if(void 0!==this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var r=e("x",this.options),l=e("y",this.options),c="left"==this.options.position?r:"-"+r,u="toastify-top"==this.options.gravity?l:"-"+l;t.style.transform="translate("+c+","+u+")"}return t},showToast:function(){var t;if(this.toastElement=this.buildToast(),!(t="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!=typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";var e=o.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,e),o.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),o.reposition()}.bind(this),400)}},o.reposition=function(){for(var t,o={top:15,bottom:15},e={top:15,bottom:15},i={top:15,bottom:15},s=document.getElementsByClassName("toastify"),a=0;a<s.length;a++){t=!0===n(s[a],"toastify-top")?"toastify-top":"toastify-bottom";var r=s[a].offsetHeight;t=t.substr(9,t.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(s[a].style[t]=i[t]+"px",i[t]+=r+15):!0===n(s[a],"toastify-left")?(s[a].style[t]=o[t]+"px",o[t]+=r+15):(s[a].style[t]=e[t]+"px",e[t]+=r+15)}return this},o.lib.init.prototype=o.lib,o},t.exports?t.exports=e():o.Toastify=e()},W(D={exports:{}},D.exports),D.exports);function B(t){let o,e;return{c(){o=f("img"),b(o,"class","toast-image"),c(o.src,e=t[1].image)||b(o,"src",e),b(o,"alt","Toast")},m(t,e){d(t,o,e)},p(t,n){2&n&&!c(o.src,e=t[1].image)&&b(o,"src",e)},d(t){t&&p(o)}}}function V(t){let o,e,n,i,s=t[1].text_button+"";return{c(){o=f("a"),e=h(s),b(o,"class","toast-button"),y(o,"color",t[1].text_color),b(o,"href",n=t[1].url_button),b(o,"target",i=1===t[1].window?"_blank":"_self")},m(t,n){d(t,o,n),u(o,e)},p(t,a){2&a&&s!==(s=t[1].text_button+"")&&g(e,s),2&a&&y(o,"color",t[1].text_color),2&a&&n!==(n=t[1].url_button)&&b(o,"href",n),2&a&&i!==(i=1===t[1].window?"_blank":"_self")&&b(o,"target",i)},d(t){t&&p(o)}}}function q(o){let e,n,i,s,a,r,l,c,v,w=o[1].image&&B(o),k=o[1].text_button&&o[1].url_button&&V(o);return{c(){e=f("div"),n=f("div"),w&&w.c(),i=m(),s=f("div"),a=f("span"),r=h(o[0]),l=m(),k&&k.c(),c=m(),v=f("div"),b(n,"class","toast-left"),b(v,"class","toast-bar"),y(v,"background",o[1].bar_color),y(v,"animation-duration",o[1].duration+"ms"),b(s,"class","toast-right"),b(e,"class","toast-content")},m(t,o){d(t,e,o),u(e,n),w&&w.m(n,null),u(e,i),u(e,s),u(s,a),u(a,r),u(s,l),k&&k.m(s,null),u(s,c),u(s,v)},p(t,[o]){t[1].image?w?w.p(t,o):(w=B(t),w.c(),w.m(n,null)):w&&(w.d(1),w=null),1&o&&g(r,t[0]),t[1].text_button&&t[1].url_button?k?k.p(t,o):(k=V(t),k.c(),k.m(s,c)):k&&(k.d(1),k=null),2&o&&y(v,"background",t[1].bar_color),2&o&&y(v,"animation-duration",t[1].duration+"ms")},i:t,o:t,d(t){t&&p(e),w&&w.d(),k&&k.d()}}}function H(t,o,e){let{message:n=""}=o,{toast:i={}}=o;return t.$$set=t=>{"message"in t&&e(0,n=t.message),"toast"in t&&e(1,i=t.toast)},[n,i]}class R extends S{constructor(t){super(),M(this,t,H,q,s,{message:0,toast:1})}}class z{static setCookie(t,o,e=30,n="/"){let i=[[t,o],["path",n]];e&&i.push(["max-age",24*e*60*60]),document.cookie=i.map((t=>t.join("="))).join(";")}static getCookie(t){let o=null;return document.cookie.split(";").some((e=>{let n=e.split("=");if(n[0].replace(" ","")===t)return o=n[1],!0})),o}}function G(t){let{to_display:o,nonce:e}=window.FAB_PLUGIN;const n=t=>{const o=document.createElement("div");return o.style.display="inline-block",new R({target:o,props:t}),o},i=(t,o)=>{let e=`FABToast-${o.ID}`;!z.getCookie(e)&&o.trigger.cookie.expiration>0&&z.setCookie(e,"true",o.trigger.cookie.expiration,"/")};return o=o.filter((t=>["toast","scarcity_toast"].includes(t.type))),o.forEach(((t,o)=>{let s=void 0!==t.trigger.delay?t.trigger.delay.replace("ms",""):0,a=`FABToast-${t.ID}`;z.getCookie(a)||setTimeout((()=>{I({node:n({message:t.no_html_content,toast:t.toast}),duration:t.toast.duration,destination:t.toast.url_button,newWindow:1===t.toast.window,close:1===t.toast.closeable,gravity:t.toast.gravity,position:t.toast.position,style:{background:t.toast.background,color:t.toast.text_color},stopOnFocus:!1}).showToast();const o=document.querySelector(".toastify"),s=o.querySelector(".toast-bar");o&&s&&(((t,o,e)=>{let n=Date.now(),i=e,s=!1;t.addEventListener("mouseover",(function(){s||(s=!0,i-=Date.now()-n,window.clearTimeout(t.timeOutValue),o.style.animationPlayState="paused")})),t.addEventListener("mouseleave",(function(){s&&(s=!1,n=Date.now(),t.timeOutValue=window.setTimeout((function(){t.remove()}),i),o.style.animationPlayState="running")}))})(o,s,t.toast.duration),((t,o)=>{const n=i=>{i.stopImmediatePropagation();let s=`FABToast-${o.ID}`,a=z.getCookie(s),l=o.toast.remember_on_click;!a&&l&&o.toast.url_button&&o.toast.text_button&&z.setCookie(s,"true",9999,"/"),o.toast.url_button&&o.toast.text_button&&(jQuery.ajax({url:"/wp-json/fab/v1/clicked",type:"POST",beforeSend(t){t.setRequestHeader("X-WP-Nonce",e.clicked)},data:{post_id:o.ID},success:t=>{1===o.toast.window?window.open(o.toast.url_button,"_blank"):window.location=o.toast.url_button},error:(t,o,e)=>{r,console.error("Error:",e)}}),t.removeEventListener("click",n))};t.addEventListener("click",n)})(o,t),((t,o)=>{const e=new MutationObserver((e=>{for(let n of e)n.removedNodes.forEach((e=>{e===t&&i(0,o)}))})),n=t.parentNode;n&&e.observe(n,{childList:!0})})(o,t));const a=o.querySelector(".toast-close");a&&(a.style.color=t.toast.text_color)}),s)})),[]}return new class extends S{constructor(t){super(),M(this,t,G,null,s,{})}}({target:document.querySelector("#fab-dom")})}();
//# sourceMappingURL=bundle.js.map
