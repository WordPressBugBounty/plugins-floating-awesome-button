import{r as g,w as f,j as r,k as i,l as t,s as a,u as p,C as k,D as $,b as C,q as L,v as S,I as N,f as h,E as v,F as _,A as T,p as j,K as A}from"../../assets/runtime-dom.esm-bundler-C5WK88vT.js";const c=g(new URL(window.location.href).searchParams.get("search")||""),I={class:"header bg-white shadow-sm rounded-lg mt-6 mr-4"},U={class:"flex flex-wrap items-center px-4 py-2"},B={class:"text-white flex-shrink flex items-center relative rounded-lg bg-white py-2 px-4 mr-4 md:mr-8"},R={class:"text-gray-800 text-lg font-medium ml-4"},V={class:"md:w-auto md:flex-grow md:flex md:items-center display-inline-block float-right right-0"},E={__name:"Nav",setup(d){const{name:u}=window.FAB_PLUGIN;return f(c,s=>{const e=new URL(window.location.href);e.searchParams.set("search",s),window.history.pushState({},"",e.toString())}),(s,e)=>(i(),r("div",I,[t("nav",U,[t("div",B,[e[1]||(e[1]=t("div",{class:"w-4 h-4 bg-primary-600 rounded-full"},null,-1)),t("h1",R,a(p(u)),1)]),t("div",V,[k(t("input",{type:"text",class:"w-full p-2 rounded-md border-slate-200 focus:border-slate-400 focus:ring-0",placeholder:"Search...","onUpdate:modelValue":e[0]||(e[0]=l=>C(c)?c.value=l:null)},null,512),[[$,p(c)]])])])]))}},F={class:"h-full bg-white shadow-sm rounded-lg overflow-hidden h-full justify-between flex flex-col"},O={class:"p-4"},D={class:"text-lg font-bold pb-2"},M={class:"text-sm text-gray-500"},q={__name:"Template",props:{template:{type:Object,required:!0}},setup(d){const u=()=>{fetch("/wp-json/fab/v1/add_new_fab",{method:"POST",body:JSON.stringify(d.template)}).then(s=>s.json()).then(s=>{const l=`/wp-admin/post.php?post=${s.post_id}&action=edit`;window.location.href=l})};return(s,e)=>(i(),r("div",F,[t("div",{class:"p-8 flex items-center justify-center",style:S({backgroundColor:d.template.design.color})},[t("i",{class:L(["text-white text-8xl",d.template.design.icon.class])},null,2)],4),t("div",O,[t("h3",D,a(d.template.name),1),t("p",M,a(d.template.description),1)]),t("div",{class:"text-blue-600 px-4 py-2 text-center cursor-pointer hover:bg-blue-600 border-t border-gray-200 hover:text-white transition-all duration-300",onClick:u},e[0]||(e[0]=[t("i",{class:"fas fa-plus"},null,-1),N(" Add New ")]))]))}},z={class:"fab-container"},G={class:"mt-6 mr-4"},J={key:0,class:"text-center py-8 text-gray-500"},K={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},H={key:0,class:"flex justify-center items-center mt-6 gap-4"},Q=["disabled"],W=["disabled"],w=20,X={__name:"App",setup(d){let{templates:u,labels:s}=window.FAB_TEMPLATES;const e=g(parseInt(new URL(window.location.href).searchParams.get("current_page"))||1);f(e,o=>{const n=new URL(window.location.href);n.searchParams.set("current_page",o),window.history.pushState({},"",n.toString())}),f(()=>c.value,()=>{e.value=1});const l=h(()=>Object.values(u).filter(o=>{const n=c.value.toLowerCase();return o.name.toLowerCase().includes(n)||o.description.toLowerCase().includes(n)})),x=h(()=>{const o=(e.value-1)*w,n=o+w;return l.value.slice(o,n)}),m=h(()=>Math.ceil(l.value.length/w)),b=()=>{e.value<m.value&&e.value++},y=()=>{e.value>1&&e.value--};return(o,n)=>(i(),r("div",z,[v(E),t("div",G,[l.value.length===0?(i(),r("div",J,a(p(s).no_results),1)):(i(),r(_,{key:1},[t("div",K,[(i(!0),r(_,null,j(x.value,P=>(i(),r("div",null,[v(q,{template:P},null,8,["template"])]))),256))]),m.value>1?(i(),r("div",H,[t("button",{onClick:y,disabled:e.value===1,class:"bg-white px-4 py-2 border rounded-md disabled:opacity-50"},a(p(s).previous),9,Q),t("span",null," Page "+a(e.value)+" of "+a(m.value)+" ("+a(l.value.length)+" templates total) ",1),t("button",{onClick:b,disabled:e.value===m.value,class:"bg-white px-4 py-2 border rounded-md disabled:opacity-50"},a(p(s).next),9,W)])):T("",!0)],64))])]))}};A(X).mount("#fab-templates-dom");
