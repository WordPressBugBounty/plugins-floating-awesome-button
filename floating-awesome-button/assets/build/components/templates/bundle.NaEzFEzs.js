import{r as b,w as P,j as a,k as l,l as e,s as o,u as g,C as N,D as S,b as T,f,q as $,v as A,I as w,F as L,E as C,A as I,p as O,K as U}from"../../assets/runtime-dom.esm-bundler-CqE9ZS4o.js";const h=b(new URL(window.location.href).searchParams.get("search")||""),B={class:"header bg-white shadow-sm rounded-lg mt-6 mr-4"},F={class:"flex flex-wrap items-center px-4 py-2"},q={class:"text-white flex-shrink flex items-center relative rounded-lg bg-white py-2 px-4 mr-4 md:mr-8"},D={class:"text-gray-800 text-lg font-medium ml-4"},R={class:"md:w-auto md:flex-grow md:flex md:items-center display-inline-block float-right right-0"},V={__name:"Nav",setup(s){const{name:d}=window.FAB_PLUGIN;return P(h,n=>{const t=new URL(window.location.href);t.searchParams.set("search",n),window.history.pushState({},"",t.toString())}),(n,t)=>(l(),a("div",B,[e("nav",F,[e("div",q,[t[1]||(t[1]=e("div",{class:"w-4 h-4 bg-primary-600 rounded-full"},null,-1)),e("h1",D,o(g(d)),1)]),e("div",R,[N(e("input",{type:"text",class:"w-full p-2 rounded-md border-slate-200 focus:border-slate-400 focus:ring-0",placeholder:"Search...","onUpdate:modelValue":t[0]||(t[0]=p=>T(h)?h.value=p:null)},null,512),[[S,g(h)]])])])]))}},E={class:"h-full bg-white shadow-sm rounded-lg overflow-hidden justify-between flex flex-col border border-gray-200"},G={class:"p-4"},M={class:"text-lg font-bold pb-2"},z={class:"text-sm text-gray-500"},J={key:0,class:"grid grid-cols-2 divide-x divide-gray-200 border-t border-gray-200"},K=["disabled"],H={key:0,class:"ml-2"},Q={key:1},W={key:1,class:"grid grid-cols-1 divide-y divide-gray-200 border-t border-gray-200"},X={__name:"Template",props:{template:{type:Object,required:!0},labels:{type:Object,required:!0}},setup(s){const d=b(!1),n=window.FAB_LOADING=window.FAB_LOADING||b(!1);let{premium:t,upgrade_url:p,integrations:x}=window.FAB_PLUGIN,{plugin:v}=x;const m=f(()=>s.template.requires?Object.values(v).find(u=>s.template.requires.includes(u.plugin_file)):null),y=f(()=>s.template.license==="premium"&&!t),c=()=>{d.value=!0,n.value=!0,fetch("/wp-json/fab/v1/integration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file:m.value.plugin_file,status:m.value.status})}).then(u=>u.json()).then(u=>{console.log(u),m.value.status="enabled",d.value=!1,n.value=!1,window.location.reload()}).catch(()=>{d.value=!1,n.value=!1})},i=()=>{fetch("/wp-json/fab/v1/add_new_fab",{method:"POST",body:JSON.stringify(s.template)}).then(u=>u.json()).then(u=>{const j=`/wp-admin/post.php?post=${u.post_id}&action=edit`;window.location.href=j})},_=()=>{window.location.href=p};return(u,r)=>(l(),a("div",E,[e("div",{class:"p-8 flex items-center justify-center",style:A({backgroundColor:s.template.design.color})},[e("i",{class:$(["text-white text-8xl",s.template.design.icon.class])},null,2)],4),e("div",G,[e("h3",M,o(s.template.name),1),e("p",z,o(s.template.description),1)]),y.value?(l(),a("div",{key:0,class:"px-4 py-2 text-center cursor-pointer border-t border-gray-200 transition-all duration-300 text-white bg-orange-600 hover:bg-green-600",onClick:_},[r[0]||(r[0]=e("i",{class:"fas fa-star"},null,-1)),w(" "+o(s.labels.upgrade),1)])):(l(),a(L,{key:1},[m.value&&m.value.status!=="enabled"?(l(),a("div",J,[e("div",{class:$(["px-4 py-2 text-center cursor-pointer transition-all duration-300 text-blue-600 hover:bg-blue-600 hover:text-white",{"opacity-50 cursor-not-allowed":d.value||g(n)}]),onClick:c,disabled:d.value||g(n)},[d.value?(l(),a("span",H,r[1]||(r[1]=[e("i",{class:"fas fa-spinner fa-spin"},null,-1)]))):(l(),a("span",Q,r[2]||(r[2]=[e("i",{class:"fas fa-plug"},null,-1)]))),w(" "+o(s.labels.add_integration),1)],10,K),e("div",{class:"px-4 py-2 text-center cursor-pointer transition-all duration-300 text-indigo-600 hover:bg-indigo-600 hover:text-white",onClick:i},[r[3]||(r[3]=e("i",{class:"fas fa-plus"},null,-1)),w(" "+o(s.labels.add_new),1)])])):(l(),a("div",W,[e("div",{class:"px-4 py-2 text-center cursor-pointer transition-all duration-300 text-indigo-600 hover:bg-indigo-600 hover:text-white",onClick:i},[r[4]||(r[4]=e("i",{class:"fas fa-plus"},null,-1)),w(" "+o(s.labels.add_new),1)])]))],64))]))}},Y={class:"fab-container"},Z={class:"mt-6 mr-4"},ee={key:0,class:"text-center py-8 text-gray-500"},te={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},se={key:0,class:"flex justify-center items-center mt-6 gap-4"},ae=["disabled"],le=["disabled"],k=20,ne={__name:"App",setup(s){let{templates:d,labels:n}=window.FAB_TEMPLATES;const t=b(parseInt(new URL(window.location.href).searchParams.get("current_page"))||1);P(t,c=>{const i=new URL(window.location.href);i.searchParams.set("current_page",c),window.history.pushState({},"",i.toString())}),P(()=>h.value,()=>{t.value=1});const p=f(()=>Object.values(d).filter(c=>{const i=h.value.toLowerCase();return c.name.toLowerCase().includes(i)||c.description.toLowerCase().includes(i)})),x=f(()=>{const c=(t.value-1)*k,i=c+k;return p.value.slice(c,i)}),v=f(()=>Math.ceil(p.value.length/k)),m=()=>{t.value<v.value&&t.value++},y=()=>{t.value>1&&t.value--};return(c,i)=>(l(),a("div",Y,[C(V),e("div",Z,[p.value.length===0?(l(),a("div",ee,o(g(n).no_results),1)):(l(),a(L,{key:1},[e("div",te,[(l(!0),a(L,null,O(x.value,_=>(l(),a("div",null,[C(X,{template:_,labels:g(n)},null,8,["template","labels"])]))),256))]),v.value>1?(l(),a("div",se,[e("button",{onClick:y,disabled:t.value===1,class:"bg-white px-4 py-2 border rounded-md disabled:opacity-50"},o(g(n).previous),9,ae),e("span",null," Page "+o(t.value)+" of "+o(v.value)+" ("+o(p.value.length)+" templates total) ",1),e("button",{onClick:m,disabled:t.value===v.value,class:"bg-white px-4 py-2 border rounded-md disabled:opacity-50"},o(g(n).next),9,le)])):I("",!0)],64))])]))}};U(ne).mount("#fab-templates-dom");
//# sourceMappingURL=bundle.NaEzFEzs.js.map
