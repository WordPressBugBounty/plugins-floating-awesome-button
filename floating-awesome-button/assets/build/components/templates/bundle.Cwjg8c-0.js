import{r as P,w as y,j as s,k as a,l as e,s as o,u as c,C as L,D as S,b as T,f as w,q as j,v as N,I as b,F as k,E as C,A,p as I,K as U}from"../../assets/runtime-dom.esm-bundler-C5WK88vT.js";const f=P(new URL(window.location.href).searchParams.get("search")||""),B={class:"header bg-white shadow-sm rounded-lg mt-6 mr-4"},O={class:"flex flex-wrap items-center px-4 py-2"},E={class:"text-white flex-shrink flex items-center relative rounded-lg bg-white py-2 px-4 mr-4 md:mr-8"},F={class:"text-gray-800 text-lg font-medium ml-4"},R={class:"md:w-auto md:flex-grow md:flex md:items-center display-inline-block float-right right-0"},V={__name:"Nav",setup(r){const{name:u}=window.FAB_PLUGIN;return y(f,p=>{const t=new URL(window.location.href);t.searchParams.set("search",p),window.history.pushState({},"",t.toString())}),(p,t)=>(a(),s("div",B,[e("nav",O,[e("div",E,[t[1]||(t[1]=e("div",{class:"w-4 h-4 bg-primary-600 rounded-full"},null,-1)),e("h1",F,o(c(u)),1)]),e("div",R,[L(e("input",{type:"text",class:"w-full p-2 rounded-md border-slate-200 focus:border-slate-400 focus:ring-0",placeholder:"Search...","onUpdate:modelValue":t[0]||(t[0]=m=>T(f)?f.value=m:null)},null,512),[[S,c(f)]])])])]))}},q={class:"h-full bg-white shadow-sm rounded-lg overflow-hidden h-full justify-between flex flex-col"},M={class:"p-4"},D={class:"text-lg font-bold pb-2"},z={class:"text-sm text-gray-500"},G={key:0,class:"grid grid-cols-2 divide-x divide-gray-200 border-t border-gray-200"},J=["disabled"],K={key:0,class:"ml-2"},H={key:1},Q={key:1,class:"grid grid-cols-1 divide-y divide-gray-200 border-t border-gray-200"},W={__name:"Template",props:{template:{type:Object,required:!0}},setup(r){const u=P(!1);let{premium:p,upgrade_url:t,integrations:m}=window.FAB_PLUGIN,{labels:v}=window.FAB_TEMPLATES,{plugin:h}=m;const g=w(()=>r.template.requires?Object.values(h).find(l=>r.template.requires.includes(l.plugin_file)):null),x=w(()=>r.template.license==="premium"&&!p),d=()=>{u.value=!0,fetch("/wp-json/fab/v1/integration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file:g.value.plugin_file,status:g.value.status})}).then(l=>l.json()).then(l=>{console.log(l),g.value.status="enabled",u.value=!1})},i=()=>{fetch("/wp-json/fab/v1/add_new_fab",{method:"POST",body:JSON.stringify(r.template)}).then(l=>l.json()).then(l=>{const $=`/wp-admin/post.php?post=${l.post_id}&action=edit`;window.location.href=$})};return(l,n)=>(a(),s("div",q,[e("div",{class:"p-8 flex items-center justify-center",style:N({backgroundColor:r.template.design.color})},[e("i",{class:j(["text-white text-8xl",r.template.design.icon.class])},null,2)],4),e("div",M,[e("h3",D,o(r.template.name),1),e("p",z,o(r.template.description),1)]),x.value?(a(),s("div",{key:0,class:"px-4 py-2 text-center cursor-pointer border-t border-gray-200 transition-all duration-300 text-white bg-orange-500 hover:bg-green-500",onClick:n[0]||(n[0]=$=>l.window.location.href=c(t))},[n[1]||(n[1]=e("i",{class:"fas fa-star"},null,-1)),b(" "+o(c(v).upgrade),1)])):(a(),s(k,{key:1},[g.value&&g.value.status!=="enabled"?(a(),s("div",G,[e("div",{class:"px-4 py-2 text-center cursor-pointer transition-all duration-300 text-blue-600 hover:bg-blue-600 hover:text-white",onClick:d,disabled:u.value},[u.value?(a(),s("span",K,n[2]||(n[2]=[e("i",{class:"fas fa-spinner fa-spin"},null,-1)]))):(a(),s("span",H,n[3]||(n[3]=[e("i",{class:"fas fa-plug"},null,-1)]))),b(" "+o(c(v).add_integration),1)],8,J),e("div",{class:"px-4 py-2 text-center cursor-pointer transition-all duration-300 text-blue-600 hover:bg-blue-600 hover:text-white",onClick:i},[n[4]||(n[4]=e("i",{class:"fas fa-plus"},null,-1)),b(" "+o(c(v).add_new),1)])])):(a(),s("div",Q,[e("div",{class:"px-4 py-2 text-center cursor-pointer transition-all duration-300 text-blue-600 hover:bg-blue-600 hover:text-white",onClick:i},[n[5]||(n[5]=e("i",{class:"fas fa-plus"},null,-1)),b(" "+o(c(v).add_new),1)])]))],64))]))}},X={class:"fab-container"},Y={class:"mt-6 mr-4"},Z={key:0,class:"text-center py-8 text-gray-500"},ee={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},te={key:0,class:"flex justify-center items-center mt-6 gap-4"},se=["disabled"],ae=["disabled"],_=20,le={__name:"App",setup(r){let{templates:u,labels:p}=window.FAB_TEMPLATES;const t=P(parseInt(new URL(window.location.href).searchParams.get("current_page"))||1);y(t,d=>{const i=new URL(window.location.href);i.searchParams.set("current_page",d),window.history.pushState({},"",i.toString())}),y(()=>f.value,()=>{t.value=1});const m=w(()=>Object.values(u).filter(d=>{const i=f.value.toLowerCase();return d.name.toLowerCase().includes(i)||d.description.toLowerCase().includes(i)})),v=w(()=>{const d=(t.value-1)*_,i=d+_;return m.value.slice(d,i)}),h=w(()=>Math.ceil(m.value.length/_)),g=()=>{t.value<h.value&&t.value++},x=()=>{t.value>1&&t.value--};return(d,i)=>(a(),s("div",X,[C(V),e("div",Y,[m.value.length===0?(a(),s("div",Z,o(c(p).no_results),1)):(a(),s(k,{key:1},[e("div",ee,[(a(!0),s(k,null,I(v.value,l=>(a(),s("div",null,[C(W,{template:l},null,8,["template"])]))),256))]),h.value>1?(a(),s("div",te,[e("button",{onClick:x,disabled:t.value===1,class:"bg-white px-4 py-2 border rounded-md disabled:opacity-50"},o(c(p).previous),9,se),e("span",null," Page "+o(t.value)+" of "+o(h.value)+" ("+o(m.value.length)+" templates total) ",1),e("button",{onClick:g,disabled:t.value===h.value,class:"bg-white px-4 py-2 border rounded-md disabled:opacity-50"},o(c(p).next),9,ae)])):A("",!0)],64))])]))}};U(le).mount("#fab-templates-dom");
//# sourceMappingURL=bundle.Cwjg8c-0.js.map
