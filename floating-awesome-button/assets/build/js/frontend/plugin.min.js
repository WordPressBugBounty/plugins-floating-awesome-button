class w{static getAttribute(t,e){return window.FAB_PLUGIN.to_display.find(i=>t==i.ID)[e]}}class z{init(){this.RedirectLogout()}RedirectLogout(){jQuery(".fab-container .fab-links").each(function(){w.getAttribute(jQuery(this).data("id"),"type")==="auth_logout"&&jQuery(this).on("click",function(){window.FAB_PLUGIN.logout_url=w.getAttribute(jQuery(this).data("id"),"link"),setTimeout(function(){let e=new DOMParser().parseFromString(window.FAB_PLUGIN.logout_url,"text/html");window.location.href=e.documentElement.textContent},3e3)})})}}class x{init(){this.FABModal(),this.FABAutoDetectCaptcha(),this.FABCloseLink()}FABModal(){let t=this;jQuery(".fab-container .fab-links").each(function(){let e=w.getAttribute(jQuery(this).data("id"),"type");["anchor_link","link","latest_post_link","print","scrolltotop","featured_product","apply_coupon","quick_purchase","cart_reminder"].indexOf(e)===-1&&jQuery(this).click(function(){jQuery("#fab-checkbox").prop("checked",!1),jQuery("#fab-checkbox").prop("checked",!1),jQuery("#fab-checkbox").trigger("click"),jQuery("#fab-checkbox").click();let o=this,l=window.FAB_PLUGIN.to_display.findIndex(c=>c.ID===jQuery(o).data("id")),a=window.FAB_PLUGIN.to_display[l],d=window.FAB_PLUGIN.dialogs||{},f=`#fab-modal-${a.ID}`,g=[`fab-modal-${a.ID}`,a.modal.theme.id!==void 0?`theme-${a.modal.theme.id}`:"theme-blank",w.getAttribute(jQuery(this).data("id"),"size").type],r={title:jQuery(f).data("title"),icon:jQuery(f).data("icon"),content:jQuery(f).children(":first"),draggable:!!a.modal.navigation.draggable,escapeKey:!!a.modal.navigation.escapeKey,backgroundDismiss:!!a.modal.navigation.backgroundDismiss,closeIconClass:"fas fa-times text-base",theme:g.join(","),animation:"fabcustomcloseanimation",closeAnimation:"fabcustomcloseanimation",animationSpeed:"1000",onOpenBefore:function(){let c=jQuery(".jconfirm-box-container");c.hide(),setTimeout(function(){c.show(),c.addClass("jconfirm-animation-fabmodalopen")},1);let u="fab-container ";u+=this.draggable?"fab-modal-draggable ":"fab-modal-notdraggable",jQuery(".jconfirm").addClass(u)},onOpen:function(){jQuery(".jconfirm-closeIcon").before('<ul class="jconfirm-navigation"></ul>'),jQuery(".jconfirm-closeIcon").prepend("<div>&nbsp;</div>"),a.modal.navigation.buttons.maximize&&t.NavigationMaximize(o),t.NavigationHotkey(w.getAttribute(a.ID,"hotkey"))},onClose:function(){jQuery(".jconfirm-box-container").addClass("jconfirm-animation-fabmodalclose");let u={...this.content};this.setContent(this.content.html()),jQuery(f).html(u)}};d[f.replace("#","")]=jQuery.dialog(r),window.FAB_PLUGIN.dialogs=d})})}FABAutoDetectCaptcha(){window.FAB_PLUGIN.features.core_miscellaneous.captcha.children.detectlocation.value&&jQuery(".wpcf7-form").length&&window.innerWidth>=640&&setTimeout(function(){jQuery(".grecaptcha-badge").css("top","250px"),jQuery(".grecaptcha-badge").css("display","block"),jQuery(".grecaptcha-badge").css("visibility","visible")},500)}FABCloseLink(){jQuery(".fabclosemodal").on("click",function(){x.CloseDialog()})}static CloseDialog(){let t=window.FAB_PLUGIN.dialogs||{};for(let e in t)t[e].close()}NavigationMaximize(t){jQuery(".jconfirm-navigation").append('<li class="jconfirm-maximize cursor-pointer"><div>&nbsp;</div><i class="fas fa-compress-alt"></i></li>'),jQuery(".jconfirm-maximize").on("click",function(){jQuery(".jconfirm-box").data("maximize")=="true"?(x.CloseDialog(),jQuery(t).trigger("click")):(jQuery(".jconfirm").addClass("jconfirm-maximized"),jQuery(".jconfirm-box-container").css("transform","translate(0,0)"),jQuery(".jconfirm-box").data("maximize","true"))})}NavigationHotkey(t){t&&(t=t.replace("ctrl","⌃"),t=t.replace("alt","⌥"),t=t.replace("shift","⇧"),t=t.replace("+"," "),t=`<li class="inline-block absolute hidden md:block jconfirm-hotkey">${t.toUpperCase()}</li>`,jQuery(".jconfirm-navigation").append(t))}}class C{init(){this.FABAnchorLink(),this.FABExternalLink(),this.FABPrint()}FABAnchorLink(){jQuery(".fab-link-type-anchor_link").each(function(){let t=window.FAB_PLUGIN.to_display.findIndex(i=>i.ID===jQuery(this).data("id")),e=window.FAB_PLUGIN.to_display[t];jQuery(this).on("click",function(){let i=30,o=jQuery(e.link).offset().top;return o=o>=i?o-i:o,window.FAB_PLUGIN.modules.button.scrollTo(document.documentElement,o,e.module.options.duration.value),!1})})}FABExternalLink(){window.FAB_PLUGIN.to_display.map(t=>{jQuery(`.fabelink-${t.ID}`).on("click",function(){jQuery(`#fab-link-${t.ID}`).click()})})}FABPrint(){jQuery(".fab-link-type-print").on("click",function(){let t=jQuery(this).closest(".fab-link-container").data("id"),i=window.FAB_PLUGIN.to_display.find(o=>o.ID==t).extraOptions.print;if(i&&i.target!=="body"){const o=require("print-js");let l=i.target.replace("#",""),a="html";a=[".jpg",".png",".gif"].includes(a)?"image":a,a=[".pdf"].includes(a)?"":a,o(l,a)}else window.print()})}scrollTo(t,e,i){let o=t.scrollTop,l=e-o,a=0,d=20,f=function(r,c,u,p){return r/=p/2,r<1?u/2*r*r+c:(r--,-u/2*(r*(r-2)-1)+c)},g=function(){a+=d;const r=f(a,o,l,i);t.scrollTop=r,a<i&&setTimeout(g,d)};g()}static triggerClick(t){x.CloseDialog();let e=jQuery(`#${t}`);e.attr("href")?e.attr("target")==="_blank"?window.open(e.attr("href")):window.location=e.attr("href"):e.trigger("click")}}class L{static setCookie(t,e,i=30,o="/"){let l=[[t,e],["path",o]];i&&l.push(["max-age",i*24*60*60]),document.cookie=l.map(a=>a.join("=")).join(";")}static getCookie(t){let e=null;return document.cookie.split(";").some(i=>{let o=i.split("=");if(o[0].replace(" ","")===t)return e=o[1],!0}),e}}function I(){return navigator.brave!==void 0&&navigator.brave.isBrave!==void 0}function F(){return typeof navigator.userAgent=="string"&&navigator.userAgent.match(/Opera|OPR\//)}function P(){return new Promise(function(n,t){var e=new XMLHttpRequest;e.onreadystatechange=function(){e.readyState==4&&n(e)},e.open("GET","https://raw.githubusercontent.com/wmcmurray/just-detect-adblock/master/baits/pagead2.googlesyndication.com",!0),e.send()})}function S(n){return n.status===200&&!n.responseText.match(/^thistextshouldbethere(\n|)$/)}function G(n){return n.status===0&&!n.responseText.match(/^thistextshouldbethere(\n|)$/)}function N(){if(window.document.body.getAttribute("abp")!==null)return!0;var n=function(){var e=document.createElement("div");return e.setAttribute("class","pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links ad-text adSense adBlock adContent adBanner"),e.setAttribute("style","width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;"),e}();window.document.body.appendChild(n);var t=function(e){if(e.offsetParent===null||e.offsetHeight==0||e.offsetLeft==0||e.offsetTop==0||e.offsetWidth==0||e.clientHeight==0||e.clientWidth==0)return!0;if(window.getComputedStyle!==void 0){var i=window.getComputedStyle(e,null);if(i&&(i.getPropertyValue("display")=="none"||i.getPropertyValue("visibility")=="hidden"))return!0}return!1}(n);return window.document.body.removeChild(n),t}var E,K={detectAnyAdblocker:function(){return new Promise(function(n,t){if(N())return n(!0);I()||F()?P().then(function(e){return I()?n(S(e)):F()?n(G(e)):void n(!1)}):n(!1)})},detectDomAdblocker:(E=N,function(){var n=arguments;return new Promise(function(t,e){t(E.apply(this,n))})}),detectBraveShields:function(){return new Promise(function(n,t){I()?P().then(function(e){n(S(e))}):n(!1)})},detectOperaAdblocker:function(){return new Promise(function(n,t){F()?P().then(function(e){n(G(e))}):n(!1)})},isDetected:function(n,t){return function(){return console.warn("just-detect-adblock : "+t),n.apply(this,arguments)}}(N,"The `isDetected()` method is now deprecated, please use `detectAnyAdblocker()` instead, which returns a Promise and can detect more stuff (like Brave Shields).")};function X(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}function q(n){var t=ue.call(n,k),e=n[k];try{n[k]=void 0;var i=!0}catch{}var o=de.call(n);return i&&(t?n[k]=e:delete n[k]),o}function V(n){return ge.call(n)}function Y(n){return n==null?n===void 0?ye:be:U&&U in Object(n)?fe(n):pe(n)}function J(n){return n!=null&&typeof n=="object"}function Z(n){return typeof n=="symbol"||we(n)&&he(n)==je}function ee(n){if(typeof n=="number")return n;if(ve(n))return $;if(T(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=T(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=n.replace(ke,"");var e=Ae.test(n);return e||_e.test(n)?Te(n.slice(2),e?2:8):xe.test(n)?$:+n}function te(n,t,e){function i(s){var b=r,j=c;return r=c=void 0,v=s,p=n.apply(j,b)}function o(s){return v=s,m=setTimeout(d,t),O?i(s):p}function l(s){var b=s-v,j=t-(s-h);return A?Ie(j,u-b):j}function a(s){var b=s-h,j=s-v;return h===void 0||b>=t||b<0||A&&j>=u}function d(){var s=D();if(a(s))return f(s);m=setTimeout(d,l(s))}function f(s){return m=void 0,B&&r?i(s):(r=c=void 0,p)}function g(){var s=D(),b=a(s);if(r=arguments,c=this,h=s,b){if(m===void 0)return o(h);if(A)return clearTimeout(m),m=setTimeout(d,t),i(h)}return m===void 0&&(m=setTimeout(d,t)),p}var r,c,u,p,m,h,v=0,O=!1,A=!1,B=!0;if(typeof n!="function")throw new TypeError(Qe);return t=M(t)||0,T(e)&&(O=!!e.leading,u=(A="maxWait"in e)?Be(M(e.maxWait)||0,t):u,B="trailing"in e?!!e.trailing:B),g.cancel=function(){m!==void 0&&clearTimeout(m),v=0,r=h=c=m=void 0},g.flush=function(){return m===void 0?p:f(D())},g}function ne(n,t,e){var i=!0,o=!0;if(typeof n!="function")throw new TypeError(Pe);return T(e)&&(i="leading"in e?!!e.leading:i,o="trailing"in e?!!e.trailing:o),Fe(n,t,{leading:i,maxWait:t,trailing:o})}function ie(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t={edges:{top:!0,right:!1,bottom:!1,left:!1},threshold:20,maxDisplays:1,eventThrottle:200,onExitIntent:function(){}};return function(){var e=R({},t,n,{edges:R({},t.edges,n.edges)}),i=new Map,o=0,l=function(r){var c=i.get(r),u=c.eventName,p=c.callback;document.removeEventListener(u,p),i.delete(r)},a=function(r,c){return e.edges.top&&c<=e.threshold&&o<e.maxDisplays?(o++,"top"):e.edges.right&&r>=f()-e.threshold&&o<e.maxDisplays?(o++,"right"):e.edges.bottom&&c>=g()-e.threshold&&o<e.maxDisplays?(o++,"bottom"):!!(e.edges.left&&r<=e.threshold&&o<e.maxDisplays)&&(o++,"left")},d=function(){i.forEach(function(r,c,u){return l(c)})},f=function(){return Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)},g=function(){return Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)};return function(r,c){document.addEventListener(r,c,!1),i.set("document:"+r,{eventName:r,callback:c})}("mousemove",Ne(function(r){var c=a(r.clientX,r.clientY);c&&(e.onExitIntent({side:c,position:{x:r.clientX,y:r.clientY}}),o>=e.maxDisplays&&d())},e.eventThrottle)),d}()}var T=X,_=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oe=typeof _=="object"&&_&&_.Object===Object&&_,re=oe,ae=typeof self=="object"&&self&&self.Object===Object&&self,le=re||ae||Function("return this")(),W=le,ce=function(){return W.Date.now()},D=ce,se=W.Symbol,Q=se,H=Object.prototype,ue=H.hasOwnProperty,de=H.toString,k=Q?Q.toStringTag:void 0,fe=q,me=Object.prototype,ge=me.toString,pe=V,be="[object Null]",ye="[object Undefined]",U=Q?Q.toStringTag:void 0,he=Y,we=J,je="[object Symbol]",ve=Z,$=NaN,ke=/^\s+|\s+$/g,xe=/^[-+]0x[0-9a-f]+$/i,Ae=/^0b[01]+$/i,_e=/^0o[0-7]+$/i,Te=parseInt,M=ee,Qe="Expected a function",Be=Math.max,Ie=Math.min,Fe=te,Pe="Expected a function",Ne=ne,R=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n};class De{static check(t){let{mobile:e,tablet:i,desktop:o}=t.responsive.device,l=!1;return l=window.innerWidth<=640&&e?!0:l,l=window.innerWidth>640&&window.innerWidth<=1024&&i?!0:l,l=window.innerWidth>1024&&o?!0:l,l}}class y{init(){this.TimeDelay(),this.ExitIntent(),this.AdBlock()}static grabFAB(t){let e=window.FAB_PLUGIN.to_display.findIndex(a=>a.trigger.type===t&&De.check(a));if(e<0)return!1;let i=window.FAB_PLUGIN.to_display[e],l=`${{adblock:"FABTriggerAdblock",exit_intent:"FABTriggerExitIntent",time_delay:"FABTriggerTimeDelay"}[t]}-${i.ID}`;return{index:e,fab:i,cookieKey:l,cookie:L.getCookie(l)}}static autoTrigger(t){let{index:e,fab:i,cookieKey:o,cookie:l}=t;if(i.trigger.triggered===void 0&&(!l||i.trigger.cookie.expiration<=0)){i.trigger.triggered=!0,window.FAB_PLUGIN.to_display[e].trigger.triggered=!0;let a=i.trigger.delay!==void 0?i.trigger.delay.replace("ms",""):1e3;setTimeout(()=>{L.setCookie(o,"true",i.trigger.cookie.expiration,"/"),C.triggerClick(`fab-link-${i.ID}`)},a)}}TimeDelay(){let t=y.grabFAB("time_delay");if(t)y.autoTrigger(t);else return}ExitIntent(){const t=ie({edges:{top:!0,right:!0,bottom:!0,left:!0},threshold:20,maxDisplays:2,eventThrottle:100,onExitIntent:({side:e,position:{x:i,y:o}})=>{let l=y.grabFAB("exit_intent");if(l)y.autoTrigger(l),setTimeout(function(){t()},500);else return}})}AdBlock(){K().then(t=>{if(t){let e=y.grabFAB("adblock");if(e)y.autoTrigger(e);else return}})}}class Le{init(){jQuery(".fab-links").each(function(){let t=w.getAttribute(jQuery(this).data("id"),"hotkey");if(t){let e=jQuery(this).attr("id");jQuery(document).bind("keydown",t.toString(),function(){C.triggerClick(e)})}})}}class Ce{init(){jQuery(".fab-links").each(function(){let t=jQuery(this).data("id");jQuery(this).on("click",function(){jQuery.ajax({url:"/wp-json/fab/v1/clicked",type:"POST",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",window.FAB_PLUGIN.nonce.clicked)},data:{post_id:t},error:(e,i,o)=>{console.error("Error:",o)}})})})}}window.FAB_PLUGIN={...window.FAB_PLUGIN,init:()=>{window.FAB_PLUGIN.modules={auth:new z,autotrigger:new y,button:new C,cookie:new L,hotkey:new Le,helper:new w,modal:new x,analytics:new Ce},Object.keys(window.FAB_PLUGIN.modules).forEach(n=>{try{window.FAB_PLUGIN.modules[n].init()}catch{}})},animate:(n,t)=>(jQuery(n).addClass(t),jQuery(n).on("animationend",()=>{jQuery(n).removeClass(t)}),jQuery(n))};jQuery(document).ready(function(n){jQuery("#fab-checkbox").prop("checked",!1),window.FAB_PLUGIN.init()});
